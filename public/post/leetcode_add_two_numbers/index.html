<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.82.0"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Fan Jingbo"><meta property="og:url" content="https://fanjingbo.com/post/leetcode_add_two_numbers/"><link rel=canonical href=https://fanjingbo.com/post/leetcode_add_two_numbers/><link rel=preload href=/js/highlight.pack.js as=script><link rel=alternate type=application/atom+xml href=https://fanjingbo.comindex.xml title="Fan Jingbo's Blog"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/fanjingbo.com"},"articleSection":"post","name":"[Leetcode] Add Two Numbers","headline":"[Leetcode] Add Two Numbers","description":"一、题目描述 链接\n二、题目分析 题目很容易理解，将两个用链表表示的数相加，结果也用链表表示，三个链表都是倒序(reverse order)表示的。其实倒序算是简化了题目，如果不倒序实现相加，由于要考虑进位的问题，需要先将链表翻转。 这道题有两种解法：一个是在遍历过程中实现按位的加法；还有一种就比较取巧了，先遍历两个链表，拿到对应的数字，然后相加，再将结果生成链表。 解法一要注意考虑进位的情况和链表节点为空的情况，进位只可能是0或1，通过整除10计算(注：在Python3中\/\/表示整除，在Python2中\/表示整除)，其中一个链表节点为空时就只计算另一个链表的对应节点和进位的和。解法一另外还有一种写法，就是只考虑节点存在的情况。 解法二比较简单，需要注意的是要做两次字符串翻转，得到两个链表代表的倒序数字后要翻转一次才能做加法，做完加法的数字要翻转回来成倒序存到链表里。\n三、代码 解法一： #第一种写法 head = ListNode(0) L = head flag = 0 while l1 or l2: if not l1: L.next = ListNode((l2.val \u002b flag) % 10) flag = (l2.val \u002b flag) \/\/ 10 l2 = l2.next elif not l2: L.next = ListNode((l1.val \u002b flag) % 10) flag = (l1.val \u002b flag) \/\/ 10 l1 = l1.next else: L.next = ListNode((l1.val \u002b l2.val \u002b flag) % 10) flag = (l1.","inLanguage":"en-US","author":"Fan Jingbo","creator":"Fan Jingbo","publisher":"Fan Jingbo","accountablePerson":"Fan Jingbo","copyrightHolder":"Fan Jingbo","copyrightYear":"2019","datePublished":"2019-01-13 14:39:57 \u002b0800 CST","dateModified":"2019-01-13 14:39:57 \u002b0800 CST","url":"https:\/\/fanjingbo.com\/post\/leetcode_add_two_numbers\/","keywords":[]}</script><title>[Leetcode] Add Two Numbers - Fan Jingbo's Blog</title><meta property="og:title" content="[Leetcode] Add Two Numbers - Fan Jingbo's Blog"><meta property="og:type" content="article"><meta property="og:description" content="一、题目描述 链接
二、题目分析 题目很容易理解，将两个用链表表示的数相加，结果也用链表表示，三个链表都是倒序(reverse order)表示的。其实倒序算是简化了题目，如果不倒序实现相加，由于要考虑进位的问题，需要先将链表翻转。 这道题有两种解法：一个是在遍历过程中实现按位的加法；还有一种就比较取巧了，先遍历两个链表，拿到对应的数字，然后相加，再将结果生成链表。 解法一要注意考虑进位的情况和链表节点为空的情况，进位只可能是0或1，通过整除10计算(注：在Python3中//表示整除，在Python2中/表示整除)，其中一个链表节点为空时就只计算另一个链表的对应节点和进位的和。解法一另外还有一种写法，就是只考虑节点存在的情况。 解法二比较简单，需要注意的是要做两次字符串翻转，得到两个链表代表的倒序数字后要翻转一次才能做加法，做完加法的数字要翻转回来成倒序存到链表里。
三、代码 解法一： #第一种写法 head = ListNode(0) L = head flag = 0 while l1 or l2: if not l1: L.next = ListNode((l2.val + flag) % 10) flag = (l2.val + flag) // 10 l2 = l2.next elif not l2: L.next = ListNode((l1.val + flag) % 10) flag = (l1.val + flag) // 10 l1 = l1.next else: L.next = ListNode((l1.val + l2.val + flag) % 10) flag = (l1."><meta name=description content="一、题目描述 链接
二、题目分析 题目很容易理解，将两个用链表表示的数相加，结果也用链表表示，三个链表都是倒序(reverse order)表示的。其实倒序算是简化了题目，如果不倒序实现相加，由于要考虑进位的问题，需要先将链表翻转。 这道题有两种解法：一个是在遍历过程中实现按位的加法；还有一种就比较取巧了，先遍历两个链表，拿到对应的数字，然后相加，再将结果生成链表。 解法一要注意考虑进位的情况和链表节点为空的情况，进位只可能是0或1，通过整除10计算(注：在Python3中//表示整除，在Python2中/表示整除)，其中一个链表节点为空时就只计算另一个链表的对应节点和进位的和。解法一另外还有一种写法，就是只考虑节点存在的情况。 解法二比较简单，需要注意的是要做两次字符串翻转，得到两个链表代表的倒序数字后要翻转一次才能做加法，做完加法的数字要翻转回来成倒序存到链表里。
三、代码 解法一： #第一种写法 head = ListNode(0) L = head flag = 0 while l1 or l2: if not l1: L.next = ListNode((l2.val + flag) % 10) flag = (l2.val + flag) // 10 l2 = l2.next elif not l2: L.next = ListNode((l1.val + flag) % 10) flag = (l1.val + flag) // 10 l1 = l1.next else: L.next = ListNode((l1.val + l2.val + flag) % 10) flag = (l1."><meta property="og:locale" content="en-us"><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.css><link rel=stylesheet href=/css/github-markdown.css><link rel=stylesheet href=/css/highlight/tomorrow.min.css><link rel=stylesheet href=/css/index.css><link href=/index.xml rel=alternate type=application/rss+xml title="Fan Jingbo's Blog"><link href="https://fonts.googleapis.com/css?family=Arvo|Permanent+Marker|Bree+Serif&display=swap" rel=stylesheet></head><body><article class="post Chinese" id=article><div class=row><div class=col-xs-12><div class=site-header><header><div class="signatures site-title"><a href=/>Fan Jingbo</a></div></header><div class="row end-xs"></div><div class=header-line></div></div><header class=post-header><h1 class=post-title>[Leetcode] Add Two Numbers</h1><div class="row post-desc"><div class=col-xs-6><time class=post-date datetime="2019-01-13 14:39:57 CST">13 Jan 2019</time></div><div class=col-xs-6><div class=post-author><a target=_blank href=https://fanjingbo.com>@Fan Jingbo</a></div></div></div></header><div class="post-content markdown-body"><h2 id=一题目描述>一、题目描述</h2><p><a href=https://leetcode.com/problems/add-two-numbers/>链接</a></p><h2 id=二题目分析>二、题目分析</h2><p>题目很容易理解，将两个用链表表示的数相加，结果也用链表表示，三个链表都是倒序(reverse order)表示的。其实倒序算是简化了题目，如果不倒序实现相加，由于要考虑进位的问题，需要先将链表翻转。
这道题有两种解法：一个是在遍历过程中实现按位的加法；还有一种就比较取巧了，先遍历两个链表，拿到对应的数字，然后相加，再将结果生成链表。
解法一要注意考虑进位的情况和链表节点为空的情况，进位只可能是0或1，通过整除10计算(注：在Python3中//表示整除，在Python2中/表示整除)，其中一个链表节点为空时就只计算另一个链表的对应节点和进位的和。解法一另外还有一种写法，就是只考虑节点存在的情况。
解法二比较简单，需要注意的是要做两次字符串翻转，得到两个链表代表的倒序数字后要翻转一次才能做加法，做完加法的数字要翻转回来成倒序存到链表里。</p><h2 id=三代码>三、代码</h2><h3 id=解法一>解法一：</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e>#第一种写法</span>
head <span style=color:#f92672>=</span> ListNode(<span style=color:#ae81ff>0</span>)
L <span style=color:#f92672>=</span> head
flag <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
<span style=color:#66d9ef>while</span> l1 <span style=color:#f92672>or</span> l2:
    <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> l1:
        L<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> ListNode((l2<span style=color:#f92672>.</span>val <span style=color:#f92672>+</span> flag) <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>)
        flag <span style=color:#f92672>=</span> (l2<span style=color:#f92672>.</span>val <span style=color:#f92672>+</span> flag) <span style=color:#f92672>//</span> <span style=color:#ae81ff>10</span>
        l2 <span style=color:#f92672>=</span> l2<span style=color:#f92672>.</span>next
    <span style=color:#66d9ef>elif</span> <span style=color:#f92672>not</span> l2:
        L<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> ListNode((l1<span style=color:#f92672>.</span>val <span style=color:#f92672>+</span> flag) <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>)
        flag <span style=color:#f92672>=</span> (l1<span style=color:#f92672>.</span>val <span style=color:#f92672>+</span> flag) <span style=color:#f92672>//</span> <span style=color:#ae81ff>10</span>
        l1 <span style=color:#f92672>=</span> l1<span style=color:#f92672>.</span>next
    <span style=color:#66d9ef>else</span>:
        L<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> ListNode((l1<span style=color:#f92672>.</span>val <span style=color:#f92672>+</span> l2<span style=color:#f92672>.</span>val <span style=color:#f92672>+</span> flag) <span style=color:#f92672>%</span> <span style=color:#ae81ff>10</span>)
        flag <span style=color:#f92672>=</span> (l1<span style=color:#f92672>.</span>val <span style=color:#f92672>+</span> l2<span style=color:#f92672>.</span>val <span style=color:#f92672>+</span> flag) <span style=color:#f92672>//</span> <span style=color:#ae81ff>10</span>
        l1 <span style=color:#f92672>=</span> l1<span style=color:#f92672>.</span>next
        l2 <span style=color:#f92672>=</span> l2<span style=color:#f92672>.</span>next
    L <span style=color:#f92672>=</span> L<span style=color:#f92672>.</span>next
<span style=color:#66d9ef>if</span> flag:
    L<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> ListNode(<span style=color:#ae81ff>1</span>)
<span style=color:#66d9ef>return</span> head<span style=color:#f92672>.</span>next

<span style=color:#75715e>#第二种写法</span>
head <span style=color:#f92672>=</span> ListNode(<span style=color:#ae81ff>0</span>)
L <span style=color:#f92672>=</span> head
flag <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
<span style=color:#66d9ef>while</span> l1 <span style=color:#f92672>or</span> l2:
    sum <span style=color:#f92672>=</span> flag
    <span style=color:#66d9ef>if</span> l1:
        sum <span style=color:#f92672>+=</span> l1<span style=color:#f92672>.</span>val
        l1 <span style=color:#f92672>=</span> l1<span style=color:#f92672>.</span>next
    <span style=color:#66d9ef>if</span> l2:
        sum <span style=color:#f92672>+=</span> l2<span style=color:#f92672>.</span>val
        l2 <span style=color:#f92672>=</span> l2<span style=color:#f92672>.</span>next
    <span style=color:#66d9ef>if</span> sum <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>10</span>:
        flag <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>
        L<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> ListNode(sum<span style=color:#f92672>%</span><span style=color:#ae81ff>10</span>)
    <span style=color:#66d9ef>else</span>:
        flag <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
        L<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> ListNode(sum)
    L <span style=color:#f92672>=</span> L<span style=color:#f92672>.</span>next
<span style=color:#66d9ef>if</span> flag:
    L<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> ListNode(<span style=color:#ae81ff>1</span>)
<span style=color:#66d9ef>return</span> head<span style=color:#f92672>.</span>next
</code></pre></div><h3 id=解法二>解法二：</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>getnum</span>(L):
    result <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>
    <span style=color:#66d9ef>while</span> L:
        result <span style=color:#f92672>+=</span> str(L<span style=color:#f92672>.</span>val)
        L <span style=color:#f92672>=</span> L<span style=color:#f92672>.</span>next
    <span style=color:#66d9ef>return</span> int(result[::<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>])
n1, n2 <span style=color:#f92672>=</span> getnum(l1), getnum(l2)
sum <span style=color:#f92672>=</span> n1 <span style=color:#f92672>+</span> n2
head <span style=color:#f92672>=</span> ListNode(<span style=color:#ae81ff>0</span>)
L <span style=color:#f92672>=</span> head
<span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> str(sum)[::<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>]:
    L<span style=color:#f92672>.</span>next <span style=color:#f92672>=</span> ListNode(int(i))
    L <span style=color:#f92672>=</span> L<span style=color:#f92672>.</span>next
<span style=color:#66d9ef>return</span> head<span style=color:#f92672>.</span>next
</code></pre></div></div><div class="row middle-xs"><div class=col-xs-12></div></div><div class=row><div class=col-xs-12></div></div><div style=height:50px></div><div class=site-footer><div class=site-footer-item><a href=http://beian.miit.gov.cn target=_blank>粤ICP备18020202号-1</a></div><div class=site-footer-item><a href=https://github.com/flyingpot target=_blank>Github</a></div></div></div></div></article><script src=/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad()</script></body></html>